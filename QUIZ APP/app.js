var quizData = {
  html: [
    {
      Question: "What does HTML stand for?",
      Option1: "Hyperlinks and Text Markup Language",
      Option2: "Home Tool Markup Language",
      Option3: "Hyper Text Markup Language",
      CorrectOption: "Hyper Text Markup Language",
    },
    {
      Question: "Who is making the Web standards?",
      Option1: "Microsoft",
      Option2: "Google",
      Option3: "The World Wide Web Consortium",
      CorrectOption: "The World Wide Web Consortium",
    },
    {
      Question: "Choose the correct HTML element for the largest heading:",
      Option1: "<h6>",
      Option2: "<heading>",
      Option3: "<h1>",
      CorrectOption: "<h1>",
    },
    {
      Question: "What is the correct HTML element for inserting a line break?",
      Option1: "<break>",
      Option2: "<lb>",
      Option3: "<br>",
      CorrectOption: "<br>",
    },
    {
      Question: "What is the correct HTML for adding a background color?",
      Option1: "<background>yellow</background>",
      Option2: "<body bg='yellow'>",
      Option3: "<body style='background-color:yellow;'>",
      CorrectOption: "<body style='background-color:yellow;'>",
    },
    {
      Question: "Choose the correct HTML element to define important text",
      Option1: "<important>",
      Option2: "<i>",
      Option3: "<strong>",
      CorrectOption: "<strong>",
    },
    {
      Question: "Choose the correct HTML element to define emphasized text",
      Option1: "<i>",
      Option2: "<italic>",
      Option3: "<em>",
      CorrectOption: "<em>",
    },
    {
      Question: "What is the correct HTML for creating a hyperlink?",
      Option1: "<a>http://www.w3schools.com</a>",
      Option2: "<a href='http://www.w3schools.com'>W3Schools</a>",
      Option3: "<a url='http://www.w3schools.com'>W3Schools.com</a>",
      CorrectOption: "<a href='http://www.w3schools.com'>W3Schools</a>",
    },
    {
      Question: "How can you open a link in a new tab/browser window?",
      Option1: "<a href='url' target='_blank'>",
      Option2: "<a href='url' new>",
      Option3: "<a href='url' target='new'>",
      CorrectOption: "<a href='url' target='_blank'>",
    },
    {
      Question: "What is the correct HTML for making a text area?",
      Option1: "<input type='textbox'>",
      Option2: "<textarea>",
      Option3: "<input type='textarea'>",
      CorrectOption: "<textarea>",
    },
    {
      Question:
        "Which of the anchor attribute is used to specify the language of the linked document ?",
      Option1: "alang",
      Option2: "lang",
      Option3: "hreflang",
      CorrectOption: "hreflang",
    },
    {
      Question: "An <iframe> is used to display a web page within a web page.",
      Option1: "True",
      Option2: "False",
      Option3: "There is no such thing as an <iframe>",
      CorrectOption: "True",
    },
    {
      Question:
        "Relationship between the current document and the linked document is specified using the ___ attribute.",
      Option1: "relation",
      Option2: "rel",
      Option3: "href",
      CorrectOption: "rel",
    },
    {
      Question:
        "Which is incorrect value provided to 'rel' attribute of the anchor tag ?",
      Option1: "previous",
      Option2: "help",
      Option3: "Bookmark",
      CorrectOption: "previous",
    },
    {
      Question: "Which is used to open the document in new window ?",
      Option1: "&lt;a target='_top'&gt;Link&lt;/a&gt;",
      Option2: "&lt;a target='_blank'&gt;Link&lt;/a&gt;",
      Option3: "&lt;a target='_new'&gt;Link&lt;/a&gt;",
      CorrectOption: "&lt;a target='_blank'&gt;Link&lt;/a&gt;",
    },
    {
      Question:
        "The ___ attribute is used to specify MIME type of the linked document",
      Option1: "MIME",
      Option2: "Type",
      Option3: "Media",
      CorrectOption: "Type",
    },
    {
      Question: "What is the correct syntax of doctype in HTML5?",
      Option1: "<!doctype html>",
      Option2: "<doctype html>",
      Option3: "<doctype html!>",
      CorrectOption: "<!doctype html>",
    },
  ],
  css: {
    Question1: {
      Question: "Which of the following is correct about CSS?",
      Option1:
        "CSS can store web applications locally with the help of an offline catche.",
      Option2:
        "Style sheets allow content to be optimized for more than one type of device.",
      Option3: "All of the above",
      CorrectOption: "All of the above",
    },
    Question2: {
      Question:
        "Which of the following defines a measurement relative to a font's x-height?",
      Option1: "%",
      Option2: "cm",
      Option3: "ex",
      CorrectOption: "ex",
    },
    Question3: {
      Question: "Which of the following uses 1vw or 1vh, whichever is smaller?",
      Option1: "px",
      Option2: "vh",
      Option3: "vmin",
      CorrectOption: "vmin",
    },
    Question4: {
      Question:
        "Which of the following property is used as a shorthand to specify a number of other background properties?",
      Option1: "background-attachment",
      Option2: "background",
      Option3: "background-repeat",
      CorrectOption: "background",
    },
    Question5: {
      Question:
        "Which of the following property is used to add or subtract space between the letters that make up a word?",
      Option1: "letter-spacing",
      Option2: "color",
      Option3: "direction",
      CorrectOption: "letter-spacing",
    },
    Question6: {
      Question:
        "Which of the following property is used to set the text shadow around a text?",
      Option1: "white-space",
      Option2: "text-shadow",
      Option3: "text-transform",
      CorrectOption: "text-shadow",
    },
    Question7: {
      Question:
        "Which of the following property specifies the width of a border?",
      Option1: ":border-color",
      Option2: ":border-style",
      Option3: ":border-width",
      CorrectOption: ":border-width",
    },
    Question8: {
      Question:
        "Which of the following property changes the color of left border?",
      Option1: ":border-left-color",
      Option2: ":border-right-color",
      Option3: ":border-bottom-color",
      CorrectOption: ":border-left-color",
    },
    Question9: {
      Question:
        "Which of the following property specifies the right padding of an element?",
      Option1: "padding-bottom",
      Option2: "padding-left",
      Option3: "padding-right",
      CorrectOption: "padding-right",
    },
    Question10: {
      Question: "What does CSS stand for?",
      Option1: "Colorful Style Sheets",
      Option2: "Cascading Style Sheets",
      Option3: "Creative Style Sheets",
      CorrectOption: "Cascading Style Sheets",
    },
    Question11: {
      Question:
        "What is the correct HTML for referring to an external style sheet?",
      Option1: "<style src='mystyle.css'>",
      Option2: "<stylesheet>mystyle.css</stylesheet>",
      Option3: "<link rel='stylesheet' type='text/css' href='mystyle.css'>",
      CorrectOption:
        "<link rel='stylesheet' type='text/css' href='mystyle.css'>",
    },
    Question12: {
      Question: "Which HTML attribute is used to define inline styles?",
      Option1: "style",
      Option2: "styles",
      Option3: "class",
      CorrectOption: "style",
    },
    Question13: {
      Question: "Which is the correct CSS syntax?",
      Option1: "{body;color:black;}",
      Option2: "body {color: black;}",
      Option3: "{body:color=black;}",
      CorrectOption: "body {color: black;}",
    },
    Question14: {
      Question: "How do you insert a comment in a CSS file?",
      Option1: "/* this is a comment */",
      Option2: "// this is a comment //",
      Option3: "// this is a comment",
      CorrectOption: "/* this is a comment */",
    },
    Question15: {
      Question: "How do you select an element with id 'demo'?",
      Option1: "#demo",
      Option2: ".demo",
      Option3: "demo",
      CorrectOption: "#demo",
    },
  },
  js: {
    Question1: {
      Question: "Inside which HTML element do we put the JavaScript?",
      Option1: "<script>",
      Option2: "<javascript>",
      Option3: "<js>",
      CorrectOption: "<script>",
    },
    Question2: {
      Question: "Where is the correct place to insert a JavaScript?",
      Option1: "The <body> section",
      Option2: "The <head> section",
      Option3: "Both the <head> section and the <body> section are correct",
      CorrectOption:
        "Both the <head> section and the <body> section are correct",
    },
    Question3: {
      Question:
        "What is the correct syntax for referring to an external script called 'xxx.js'?",
      Option1: "<script href='xxx.js'>",
      Option2: "<script src='xxx.js'>",
      Option3: "<script name='xxx.js'>",
      CorrectOption: "<script src='xxx.js'>",
    },
    Question4: {
      Question: "The external JavaScript file must contain the <script> tag.",
      Option1: "True",
      Option2: "False",
      CorrectOption: "False",
    },
    Question5: {
      Question: "How do you write 'Hello World' in an alert box?",
      Option1: "msg('Hello World');",
      Option2: "alertBox('Hello World');",
      Option3: "alert('Hello World');",
      CorrectOption: "alert('Hello World');",
    },
    Question6: {
      Question: "How do you create a function in JavaScript?",
      Option1: "function:myFunction()",
      Option2: "function myFunction()",
      Option3: "function = myFunction()",
      CorrectOption: "function myFunction()",
    },
    Question7: {
      Question: "How do you call a function named 'myFunction'?",
      Option1: "myFunction()",
      Option2: "call function myFunction()",
      Option3: "call myFunction()",
      CorrectOption: "myFunction()",
    },
    Question8: {
      Question: "How to write an IF statement in JavaScript?",
      Option1: "if (i == 5)",
      Option2: "if i == 5 then",
      Option3: "if (i = 5)",
      CorrectOption: "if (i == 5)",
    },
    Question9: {
      Question:
        "How to write an IF statement for executing some code if 'i' is NOT equal to 5?",
      Option1: "if i <> 5",
      Option2: "if (i != 5)",
      Option3: "if (i <> 5)",
      CorrectOption: "if (i != 5)",
    },
    Question10: {
      Question: "How does a WHILE loop start?",
      Option1: "while (i <= 10)",
      Option2: "while i = 1 to 10",
      Option3: "while (i <= 10; i++)",
      CorrectOption: "while (i <= 10)",
    },
    Question11: {
      Question: "What is the correct way to write a JavaScript array?",
      Option1: "var colors = (1:'red', 2:'green', 3:'blue')",
      Option2: "var colors = 'red', green', 'blue'",
      Option3: "var colors = ['red', green', 'blue']",
      CorrectOption: "var colors = ['red', green', 'blue']",
    },
    Question12: {
      Question: "How do you find the number with the highest value of x and y?",
      Option1: "Math.max(x, y)",
      Option2: "Math.ceil(x, y)",
      Option3: "ceil(x, y)",
      CorrectOption: "Math.max(x, y)",
    },
    Question13: {
      Question: "How can you detect the client's browser name?",
      Option1: "browser.name",
      Option2: "client.navName",
      Option3: "navigator.appName",
      CorrectOption: "navigator.appName",
    },
    Question14: {
      Question: "Which event occurs when the user clicks on an HTML element?",
      Option1: "onchange",
      Option2: "onclick",
      Option3: "onmouseover",
      CorrectOption: "onclick",
    },
    Question15: {
      Question: "Is JavaScript case-sensitive?",
      Option1: "No",
      Option2: "Yes",
      CorrectOption: "Yes",
    },
  },
};

var html = false;
function htmlClick() {
  var htmlQuizFrame = document.getElementById("htmlQuizFrame");
  var htmlHeader = document.getElementById("htmlHeader");
  if (html) {
    htmlQuizFrame.style.display = "none";
    htmlHeader.className = "fa fa-angle-right";
    html = false;
  } else {
    htmlQuizFrame.style.display = "block";
    htmlHeader.className = "fa fa-angle-down";
    html = true;
  }
}
var subHtml = false;
function subHtmlClick() {
  var subHtmlQuizFrame = document.getElementById("subHtmlQuizFrame");
  var htmlQuiz = document.getElementById("htmlQuiz");
  if (subHtml) {
    subHtmlQuizFrame.style.display = "none";
    htmlQuiz.className = "fa fa-angle-right";
    subHtml = false;
  } else {
    subHtmlQuizFrame.style.display = "block";
    htmlQuiz.className = "fa fa-angle-down";
    subHtml = true;
  }
}

var css = false;
function cssClick() {
  var cssQuizFrame = document.getElementById("cssQuizFrame");
  var cssHeader = document.getElementById("cssHeader");
  if (css) {
    cssQuizFrame.style.display = "none";
    cssHeader.className = "fa fa-angle-right";
    css = false;
  } else {
    cssQuizFrame.style.display = "block";
    cssHeader.className = "fa fa-angle-down";
    css = true;
  }
}
var subCss = false;
function subCssClick() {
  var subCssQuizFrame = document.getElementById("subCssQuizFrame");
  var CssQuiz = document.getElementById("cssQuiz");
  if (subCss) {
    subCssQuizFrame.style.display = "none";
    cssQuiz.className = "fa fa-angle-right";
    subCss = false;
  } else {
    subCssQuizFrame.style.display = "block";
    cssQuiz.className = "fa fa-angle-down";
    subCss = true;
  }
}

var js = false;
function jsClick() {
  var jsQuizFrame = document.getElementById("jsQuizFrame");
  var jsHeader = document.getElementById("jsHeader");
  if (js) {
    jsQuizFrame.style.display = "none";
    jsHeader.className = "fa fa-angle-right";
    js = false;
  } else {
    jsQuizFrame.style.display = "block";
    jsHeader.className = "fa fa-angle-down";
    js = true;
  }
}
var subJs = false;
function subJsClick() {
  var subJsQuizFrame = document.getElementById("subJsQuizFrame");
  var JsQuiz = document.getElementById("jsQuiz");
  if (subJs) {
    subJsQuizFrame.style.display = "none";
    jsQuiz.className = "fa fa-angle-right";
    subJs = false;
  } else {
    subJsQuizFrame.style.display = "block";
    jsQuiz.className = "fa fa-angle-down";
    subJs = true;
  }
}

function signUp() {
  var signUp = document.querySelector(".sign-up");
  var signIn = document.querySelector(".sign-in");
  var sign = document.querySelector(".sign");
  sign.innerHTML = `<p>Already have an account</p>
    <button onclick="signIn()"><i class="fa fa-lock"></i>Sign In</button>`;
  console.log(sign);
  signIn.style.display = "none";
  signUp.style.display = "block";
}
function signIn() {
  var signUp = document.querySelector(".sign-up");
  var signIn = document.querySelector(".sign-in");
  var sign = document.querySelector(".sign");
  sign.innerHTML = `<p>Don't have an account</p>
    <button onclick="signUp()"><i class="fa fa-lock"></i>Sign up</button>`;
  signIn.style.display = "block";
  signUp.style.display = "none";
}

// form authentication
function checkEmail(str) {
  var re =
    /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  var email = document.getElementById("email");
  if (!re.test(str)) email.style.border = "1px solid red";
  else {
    email.style.border = "1px solid green";
  }
}
function checkName(str) {
  var re = /^[A-Za-z\s]*$/;
  var name = document.getElementById("name");
  if (!re.test(str)) name.style.border = "1px solid red";
  else {
    name.style.border = "1px solid green";
  }
}
function check() {
  var rePassword = document.getElementById("rePassword");
  var password = document.getElementById("newpassword").value;
  if (password === rePassword.value) {
    rePassword.style.border = "1px solid green";
  } else {
    rePassword.style.border = "1px solid red";
  }
}

function checkStrength(str) {
  var password = document.getElementById("newpassword");
  let strongPassword = new RegExp(
    "^(?=.*[A-Z].*[A-Z])(?=.*[!@#$&./*])(?=.*[0-9].*[0-9])(?=.*[a-z].*[a-z].*[a-z].*[a-z].*[a-z]).{8,10}$"
  );
  let mediumPassword = new RegExp(
    "((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{6,8}))|((?=.*[a-z])(?=.*[^A-Za-z0-9])(?=.{6,8}))"
  );
  if (strongPassword.test(str)) {
    password.style.border = "1px solid green";
  } else if (mediumPassword.test(str)) {
    password.style.border = "1px solid yellow";
  } else {
    password.style.border = "1px solid red";
  }
}
function createAccount() {
  var signIn = document.querySelector(".sign-in");
  var signUp = document.querySelector(".sign-up");
  var sign = document.querySelector(".sign");

  var name = document.getElementById("name");
  var nameArray = [];
  nameArray.push(name.value);
  localStorage.setItem("userName", nameArray);

  var emailArray = [];
  var email = document.getElementById("email");
  emailArray.push(email.value);
  localStorage.setItem("Email", emailArray);

  var phone = document.getElementById("phone");
  var phoneArray = [];
  phoneArray.push(phone.value);
  localStorage.setItem("PhoneNo", phoneArray);

  var password = document.getElementById("newpassword");
  var passwordArray = [];
  passwordArray.push(password.value);
  localStorage.setItem("Password", passwordArray);

  var rePassword = document.getElementById("rePassword");
  const nColor = name.style.border.slice(10);
  const eColor = email.style.border.slice(10);
  const reColor = rePassword.style.border.slice(10);
  const passColor = password.style.border.slice(10);
  if (
    nColor === "green" &&
    eColor === "green" &&
    reColor === "green" &&
    (passColor === "yellow" || passColor === "green")
  ) {
    rePassword.value = "";
    rePassword.style.border = "1px solid #ccc";
    password.value = "";
    password.style.border = "1px solid #ccc";
    name.value = "";
    name.style.border = "1px solid #ccc";
    email.value = "";
    email.style.border = "1px solid #ccc";
    phone.value = "";
    phone.style.border = "1px solid #ccc";

    sign.innerHTML = `<p>Don't have an account</p>
        <button onclick="signUp()"><i class="fa fa-lock"></i>Sign up</button>`;
    swal("Account Created!", "You clicked the button!", "success");
    signIn.style.display = "block";
    signUp.style.display = "none";
  } else {
    sweetAlert("Oops...", "Something went wrong!", "error");
  }
}

function login() {
  var nameSign = document.getElementById("nameSign");
  var password = document.getElementById("signNewpassword");
  var signIn = document.querySelector(".sign-in");
  var headingQuizFrame = document.getElementById("heading-Quiz-Frame");
  var quizframe = document.querySelector(".quiz-frame");
  var sign = document.querySelector(".sign");
  console.log(quizframe);
  if (nameSign.value != "" && password.value != "") {
    if (
      (nameSign.value === localStorage.getItem("userName") ||
        nameSign.value === localStorage.getItem("Email")) &&
      password.value === localStorage.getItem("Password")
    ) {
      swal("Login Successfully!", "You clicked the button!", "success");
      signIn.style.display = "none";
      headingQuizFrame.style.display = "block";
      quizframe.style.display = "block";
      nameSign.value = "";
      password.value = "";
      sign.innerHTML = `<p>${localStorage.getItem("Email")}</p>
              <button id="signOut" onclick="signOut()"><i class="fa fa-sign-out"></i>Sign out</button>`;
    } else {
      sweetAlert("Oops...", "Check Your Password or Name!", "error");
      nameSign.value = "";
      password.value = "";
    }
  } else {
    sweetAlert(
      "Oops...",
      "Please write your Password or Name in the field",
      "error"
    );
  }
}

function signOut() {
  document.webkitExitFullscreen();
  var signIn = document.querySelector(".sign-in");
  var headingQuizFrame = document.getElementById("heading-Quiz-Frame");
  var quizframe = document.querySelector(".quiz-frame");
  var sign = document.querySelector(".sign");
  signIn.style.display = "block";
  var quiz_content = document.querySelector(".quiz-content");
  quiz_content.style.display = "none";
  headingQuizFrame.style.display = "none";
  quizframe.style.display = "none";
  sign.innerHTML = `<p>Don't have an account</p>
    <button onclick="signUp()"><i class="fa fa-lock"></i>Sign up</button>`;
}

var score = 0;
var index = 0;
function nextQuestion() {
  document.documentElement.webkitRequestFullscreen();
  var quiz_content = document.querySelector(".quiz-content");
  quiz_content.style.display = "block";
  var option = document.getElementsByName("option");
  var quiz_frame = document.querySelector(".quiz-frame");
  var headingQuizFrame = document.querySelector("#heading-Quiz-Frame");
  quiz_frame.style.display = "none";
  headingQuizFrame.style.display = "none";
  var btn = document.getElementById("btn");
  for (var i = 0; i < option.length; i++) {
    if (option[i].checked) {
      console.log(option[i].value);
      if (
        quizData.html[index - 1][`Option${option[i].value}`] ==
        quizData.html[index - 1].CorrectOption
      ) {
        score++;
        // console.log(score);
      }
      option[i].checked = false;
      btn.disabled = true;
    }
  }
  var len = quizData.html.length;
  if (index >= len) {
    document.webkitExitFullscreen();
    var result = document.querySelector(".result");
    var quiz_content = document.querySelector(".quiz-content");
    var percentage = Math.round((score / len) * 100);
    var res = document.getElementById("res");
    var heading = document.getElementById("heading");
    var tot = document.getElementById("total");
    var sco = document.getElementById("score");
    var per = document.getElementById("per");
    var circle = document.querySelector(".perc")
    res.innerHTML = "Html Quiz";
    tot.innerHTML = len;
    sco.innerHTML = score;
    per.innerHTML = `${percentage}%`;
    if (percentage > 60) {
      heading.innerHTML = "Congratulations, you passed";
      heading.style.color = "green";
      circle.style.color = "green";
      circle.style.border = "1px solid green"
    } else {
      heading.innerHTML = "Sorry, you failed";
      heading.style.color = "red";
      circle.style.color = "red";
      circle.style.border = "1px solid red"
    }
    result.style.display = "block";
    quiz_content.style.display = "none";
  } else {
    var quizHead = document.getElementById("quizHead");
    var question = document.getElementById("Ques");
    var opt1 = document.getElementById("option1");
    var opt2 = document.getElementById("option2");
    var opt3 = document.getElementById("option3");
    var btn = document.querySelectorAll(".btn");
    var value = btn[0].value;
    if (value === "html") {
      var quesNo = quizData.html.length;
      var ques = quizData.html[index].Question;
      var option1 = quizData.html[index].Option1;
      var option2 = quizData.html[index].Option2;
      var option3 = quizData.html[index].Option3;
      quizHead.innerHTML = `Question ${index + 1}/${quesNo}`;
      question.innerText = ques;
      opt1.innerText = option1;
      opt2.innerText = option2;
      opt3.innerText = option3;
    }
    index++;
  }
}

function enableBtn() {
  var btn = document.getElementById("btn");
  btn.disabled = false;
}

function backToHome() {
  var result = document.querySelector(".result");
  result.style.display = "none";
  var quiz_frame = document.querySelector(".quiz-frame");
  var headingQuizFrame = document.querySelector("#heading-Quiz-Frame");
  quiz_frame.style.display = "block";
  headingQuizFrame.style.display = "block";
}
window.addEventListener("blur", function () {
  console.log("dfa hoja");
});

document.querySelector(".btn").addEventListener("click", function () {
  console.log("The button was clicked!");
  var timeLeft = 30;
  value = false;
  var elem = document.querySelector(".timer");
  var timerId = setInterval(countdown, 1000);
  document.querySelector("#btn").addEventListener("click", function () {
    console.log("The button was clicked!");
    timeLeft = 30;
  });
  function countdown() {
    if (timeLeft == -1) {
      timeLeft = 30;
      nextQuestion();
      value = false;
    } else if (index >= quizData.html.length) {
      clearInterval(timerId);
    } else {
      elem.innerHTML = `00 : ${timeLeft}`;
      timeLeft--;
    }
  }
});
